# Prompt Priming Template for AI Coding Sessions

## Quick Context Injection
Use this template to rapidly prime AI assistants with project context, avoiding repetitive explanations.

---

## üéØ Session Purpose
**What I'm working on:** [brief 1-sentence goal]

**Expected outcome:** [what should be done by end of session]

---

## üìÅ Project Context

### Project Overview
- **Name:** CVstomize
- **Type:** AI-powered resume customization web application
- **Stack:** React (frontend) + Node.js/Express (backend) + PostgreSQL + Firebase Auth
- **Deployment:** Google Cloud Run (frontend & backend separate services)
- **Key Features:** 
  - Google SSO & email/password authentication
  - AI-driven resume generation using Gemini
  - Resume upload and gap analysis
  - Multiple PDF template exports (Modern, Classic, Minimal)
  - Resume history with search/filter
  - User profile management

### Current Branch & State
- **Branch:** `testing`
- **Last Major Changes:** [fill in based on recent work]
- **Known Issues:** [any blockers or bugs]
- **Environment:** Production URL: https://cvstomize-frontend-351889420459.us-central1.run.app

---

## üèóÔ∏è Architecture Quick Reference

### Frontend Structure (`src/`)
```
src/
‚îú‚îÄ‚îÄ components/          # React components (MUI-based)
‚îÇ   ‚îú‚îÄ‚îÄ Auth/           # Login, Signup, PasswordReset
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/      # Main dashboard components
‚îÇ   ‚îú‚îÄ‚îÄ Resume/         # Resume creation & preview
‚îÇ   ‚îú‚îÄ‚îÄ History/        # Resume history & cards
‚îÇ   ‚îî‚îÄ‚îÄ Profile/        # User profile management
‚îú‚îÄ‚îÄ contexts/           # React Context (AuthContext, etc.)
‚îú‚îÄ‚îÄ services/           # API client services
‚îú‚îÄ‚îÄ hooks/              # Custom React hooks
‚îî‚îÄ‚îÄ firebase/           # Firebase configuration
```

### Backend Structure (`api/`)
```
api/
‚îú‚îÄ‚îÄ routes/             # Express route handlers
‚îú‚îÄ‚îÄ controllers/        # Business logic
‚îú‚îÄ‚îÄ services/           # External service integrations
‚îú‚îÄ‚îÄ middleware/         # Auth, error handling, logging
‚îú‚îÄ‚îÄ prisma/            # Database schema & migrations
‚îî‚îÄ‚îÄ utils/             # Helper functions
```

### Testing Infrastructure (`tests/`)
```
tests/
‚îú‚îÄ‚îÄ e2e/                          # Playwright E2E tests
‚îÇ   ‚îú‚îÄ‚îÄ *.spec.ts                # TypeScript test files
‚îÇ   ‚îî‚îÄ‚îÄ helpers.ts               # Shared test utilities
‚îú‚îÄ‚îÄ recorded/                     # Tests generated from codegen
‚îú‚îÄ‚îÄ fixtures/                     # Test data (JSON)
‚îî‚îÄ‚îÄ reports/                      # Test results & artifacts
```

### Testing Tools (`tools/`)
```
tools/
‚îú‚îÄ‚îÄ test-tracker.html             # Interactive manual testing tracker
‚îî‚îÄ‚îÄ README.md                     # Testing tools documentation
```

---

## üîß Development Standards (From `.ai-instructions.md`)

### Code Style
- **JavaScript:** ES6+, async/await preferred, destructuring, arrow functions
- **Components:** Functional components with hooks, no class components
- **Naming:** camelCase (variables/functions), PascalCase (components), SCREAMING_SNAKE_CASE (constants)
- **MUI Patterns:** Use `sx` prop for styling, avoid inline styles, theme-aware colors

### File Patterns
- Components: `ComponentName.js` with named exports
- Services: `serviceName.js` with named function exports
- Tests: `component.test.js` (unit) or `feature.spec.js` (E2E)

### Error Handling
- Always use try-catch for async operations
- Return meaningful error messages to frontend
- Log errors with context (userId, action, timestamp)

### Testing Requirements
- Write tests for new features (Playwright E2E + Jest unit)
- Use page object model for E2E tests
- Include positive & negative test cases
- Manual testing tracked in test tracker tool
- Record new test flows with Playwright codegen

---

## üöÄ Common Commands

### Development
```bash
# Frontend
npm start                          # Start React dev server (port 3000)
npm run build                      # Production build

# Backend
cd api && npm start                # Start Express server (port 8080)
cd api && npm run dev              # Start with nodemon

# Testing
npm run test:e2e                   # Playwright headless tests
npm run test:e2e:ui                # Playwright UI mode
npm run test:e2e:headed            # Playwright with visible browser
npm run test:report                # View test reports
./start-testing.sh                 # Open testing workspace menu
open tools/test-tracker.html       # Open manual testing tracker
./scripts/record-test.sh           # Record test with Playwright codegen

# Database
cd api && npx prisma migrate dev   # Run migrations
cd api && npx prisma studio        # Open Prisma Studio
```

### Deployment
```bash
# Frontend deployment (handled by Cloud Build)
git push origin main               # Triggers automatic deploy

# Backend deployment
cd api && ./deploy-to-cloud-run.sh # Manual backend deploy

# Git workflow
./scripts/git-sync.sh              # Stage, commit, pull, push
```

---

## üîë Key Files to Reference

### Configuration Files
- `.ai-instructions.md` - Complete coding standards & conventions
- `package.json` - Dependencies & npm scripts
- `playwright.config.js` - E2E test configuration
- `api/prisma/schema.prisma` - Database schema
- `.env.example` - Required environment variables

### Documentation Files
- `README.md` - Project overview & setup
- `TESTING_WORKSPACE.md` - Complete testing hub (main reference)
- `TESTING.md` - Testing quick start guide
- `START_TESTING.md` - 2-minute quick start
- `COMPLETE_UI_TESTING_GUIDE.md` - Manual testing checklist
- `docs/testing/PLAYWRIGHT_CODEGEN_GUIDE.md` - Test recording guide
- `PROJECT_STRUCTURE.md` - Detailed architecture

### Critical Implementation Files
- `src/App.js` - Main application routes
- `src/contexts/AuthContext.js` - Authentication state
- `api/index.js` - Backend entry point
- `api/routes/` - API route definitions

---

## üé® Component Patterns (MUI)

### Standard Component Structure
```javascript
import React, { useState, useEffect } from 'react';
import { Box, Typography, Button } from '@mui/material';

const ComponentName = ({ prop1, prop2 }) => {
  const [state, setState] = useState(null);

  useEffect(() => {
    // Side effects
  }, [dependencies]);

  const handleAction = async () => {
    try {
      // Logic here
    } catch (error) {
      console.error('Error:', error);
    }
  };

  return (
    <Box sx={{ padding: 2 }}>
      <Typography variant="h5">{prop1}</Typography>
      <Button onClick={handleAction}>Action</Button>
    </Box>
  );
};

export default ComponentName;
```

### Common MUI Patterns
```javascript
// Responsive spacing
sx={{ padding: { xs: 2, md: 4 } }}

// Theme colors
sx={{ color: 'primary.main', bgcolor: 'background.paper' }}

// Conditional styling
sx={{ opacity: isLoading ? 0.5 : 1 }}

// Flexbox layout
sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}
```

---

### Debugging Context

### Recent Changes
- **Testing System Overhaul:** Replaced autonomous testing with manual tracker + Playwright codegen
- **Testing Workspace:** Created comprehensive testing hub with launcher menu
- [Add other recent fixes here]

### Known Issues & Workarounds
- [List any current bugs or temporary solutions]

### Common Errors
1. **Test tracker won't open** ‚Üí Try `xdg-open tools/test-tracker.html` or drag to browser
2. **CORS errors** ‚Üí Check backend CORS middleware configuration
3. **Firebase auth fails** ‚Üí Verify `FIREBASE_API_KEY` in environment
4. **Test timeout** ‚Üí Increase timeout in `playwright.config.js`
5. **Playwright browsers not installed** ‚Üí Run `npx playwright install`

---

## üß™ Testing Context

### Testing Approach
- **Manual Testing:** Interactive test tracker (`tools/test-tracker.html`)
- **Test Recording:** Playwright codegen for capturing interactions
- **E2E Testing:** Playwright TypeScript tests for automation
- **Test Coverage:** 16 manual tests + 6 E2E test files

### Test Categories (Manual Testing Tracker)
1. Authentication & Account Management (4 tests)
2. Resume Generation - No Upload (3 tests)
3. Resume Generation - With Upload (2 tests)
4. Resume History & Management (3 tests)
5. Profile Management (2 tests)
6. Downloads & Export (2 tests)

### E2E Test Files (Playwright)
- `01-authentication.spec.ts` - Google SSO, email/password auth
- `02-resume-generation.spec.ts` - Complete generation flow
- `03-resume-with-upload.spec.ts` - Upload & hybrid flow
- `04-resume-history.spec.ts` - History management
- `05-profile.spec.ts` - Profile features
- `06-downloads.spec.ts` - All download formats

### Test Commands Quick Reference
```bash
# Manual testing
./start-testing.sh                 # Open testing menu
open tools/test-tracker.html       # Open test tracker

# Record tests
./scripts/record-test.sh --name my-test
./scripts/record-test.sh --local   # Against localhost

# Run E2E tests
npm run test:e2e:ui                # Interactive UI mode (best for dev)
npm run test:e2e:headed            # Visible browser
npm run test:e2e                   # Headless (fast)
npm run test:report                # View HTML report

# VS Code integration
# Use Run menu (F5) or Tasks for pre-configured commands
```

---

## üí° Session-Specific Context

### What to focus on:
[Fill in: specific files, functions, or components relevant to current task]

### What to avoid:
[Fill in: areas not to touch, deprecated code, or off-limits files]

### Related PRs/Issues:
[Fill in: relevant GitHub issues, PRs, or discussions]

### Dependencies to watch:
[Fill in: external libraries or services that might affect work]

---

## üìù Quick Prompt Injections

### For Bug Fixes
```
I'm fixing [bug description]. The error occurs in [file path] around [line/function].
Current behavior: [what happens]
Expected behavior: [what should happen]
Error message: [paste error]
```

### For New Features
```
I'm adding [feature name] to [component/service]. 
Requirements: [list key requirements]
Acceptance criteria: [what defines done]
Files to modify: [list files]
```

### For Refactoring
```
I'm refactoring [code area] to [improvement goal].
Current structure: [brief description]
Target structure: [desired outcome]
Constraints: [backward compatibility, performance, etc.]
```

### For Testing
```
I need to test [feature/component].
Test type: [manual/recorded/E2E/unit]
Test scenarios: [list scenarios]
Expected coverage: [what should be tested]
Tool: [test-tracker / codegen / playwright / jest]
```

---

## üîÑ How to Use This Template

### Start of Session
1. Copy this template
2. Fill in "Session Purpose" section
3. Update "Session-Specific Context"
4. Share with AI assistant at start of conversation

### Mid-Session Updates
- Add notes to "Recent Fixes" as you resolve issues
- Update "Known Issues" if you discover new problems
- Track progress in "Session-Specific Context"

### End of Session
- Document any unfinished work in "What to focus on" for next session
- Update relevant files (README, documentation) if needed
- Commit changes with clear messages (follow `.ai-instructions.md` guidelines)

---

## üéØ Example: Filled Template for Current Session

### Session Purpose
**What I'm working on:** Adding download functionality to resume history page

**Expected outcome:** Users can download resumes directly from history without opening preview

### Session-Specific Context
**Focus on:**
- `src/components/ResumeHistory.js` - Main history component
- `src/services/resumeService.js` - API service for downloads
- Download button UX patterns from existing components

**Avoid:**
- Auth flow (already working)
- Database migrations (not needed)
- Production testing (use staging)

**Recent work:**
- Created comprehensive testing workspace
- Set up manual testing tracker tool
- Added Playwright test recording capability

**Next steps:**
- Add download buttons to history cards
- Test download flow with test tracker
- Record test for future automation

---

## üöÄ Advanced: Multi-Session Context

### For Long-Running Projects
Create a session log to track progress across multiple AI conversations:

```markdown
## Session Log

### Session 1 (2025-11-15)
- Set up Playwright E2E testing
- Created initial test suite
- Configured CI/CD integration

### Session 2 (2025-11-17)
- Removed autonomous testing system
- Created manual testing workspace
- Added test recording tools
- [continue tracking...]
```

---

## üìö Additional Resources

### External Documentation
- [Playwright Docs](https://playwright.dev/)
- [Playwright Codegen](https://playwright.dev/docs/codegen)
- [MUI Components](https://mui.com/material-ui/getting-started/)
- [Firebase Auth Docs](https://firebase.google.com/docs/auth)
- [Gemini AI API](https://ai.google.dev/gemini-api/docs)

### Internal Resources
- Project Wiki: [add link if exists]
- Team Slack/Discord: [add channel]
- Deployment Dashboard: [Google Cloud Console link]

---

**Last Updated:** 2025-11-17
**Template Version:** 2.0
**Maintained By:** CVstomize Development Team
