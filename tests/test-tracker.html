<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVstomize Test Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .content {
            display: flex;
            height: calc(100vh - 220px);
        }
        
        .sidebar {
            width: 350px;
            border-right: 1px solid #e0e0e0;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }
        
        .section {
            border-bottom: 1px solid #e0e0e0;
        }
        
        .section-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            transition: background 0.2s;
        }
        
        .section-header:hover {
            background: #f0f0f0;
        }
        
        .section-header.active {
            background: #667eea;
            color: white;
        }
        
        .section-badge {
            margin-left: auto;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            background: #e0e0e0;
            font-weight: bold;
        }
        
        .section-header.active .section-badge {
            background: rgba(255,255,255,0.3);
        }
        
        .test-item {
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s;
        }
        
        .test-item:hover {
            background: #f8f9fa;
        }
        
        .test-item.completed {
            background: #e8f5e9;
        }
        
        .test-item.failed {
            background: #ffebee;
        }
        
        .test-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
        }
        
        .test-title {
            font-weight: 600;
            font-size: 1.1em;
            flex: 1;
        }
        
        .status-buttons {
            display: flex;
            gap: 5px;
        }
        
        .status-btn {
            padding: 5px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.2s;
        }
        
        .pass-btn {
            background: #4caf50;
            color: white;
        }
        
        .fail-btn {
            background: #f44336;
            color: white;
        }
        
        .skip-btn {
            background: #ff9800;
            color: white;
        }
        
        .status-btn:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }
        
        .test-steps {
            margin-left: 39px;
            color: #666;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .step {
            margin: 5px 0;
            display: flex;
            align-items: start;
            gap: 8px;
        }
        
        .step-checkbox {
            margin-top: 3px;
            cursor: pointer;
        }
        
        .notes-section {
            margin: 15px 0 0 39px;
        }
        
        .notes-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            resize: vertical;
            min-height: 60px;
        }
        
        .quick-notes {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 15px;
            z-index: 1000;
        }
        
        .quick-notes h3 {
            margin-bottom: 10px;
            color: #667eea;
        }
        
        .quick-note-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        .quick-note-btn {
            width: 100%;
            padding: 8px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .quick-note-btn:hover {
            background: #5568d3;
        }
        
        .notes-list {
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .note-item {
            padding: 8px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .note-time {
            font-size: 0.75em;
            color: #666;
            display: block;
            margin-top: 3px;
        }
        
        .export-btn {
            margin-top: 10px;
            width: 100%;
            padding: 8px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .export-btn:hover {
            background: #45a049;
        }
        
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 30px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ CVstomize Test Tracker</h1>
            <p>Manual Testing Assistant with Auto-Checklist</p>
            <div class="stats">
                <div class="stat">
                    <span class="stat-value" id="completed-count">0</span>
                    <span class="stat-label">Completed</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="total-count">0</span>
                    <span class="stat-label">Total Tests</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="progress-percent">0%</span>
                    <span class="stat-label">Progress</span>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <div class="content">
            <div class="sidebar" id="sidebar">
                <!-- Sections will be populated here -->
            </div>
            <div class="main-content" id="main-content">
                <h2>Welcome to Test Tracker</h2>
                <p>This tool helps you manually test CVstomize while automatically tracking your progress.</p>
                <br>
                <h3>How to use:</h3>
                <ol style="line-height: 2;">
                    <li>Select a test section from the left sidebar</li>
                    <li>Follow the test steps</li>
                    <li>Check off each step as you complete it</li>
                    <li>Mark test as Pass/Fail/Skip</li>
                    <li>Add notes for any issues found</li>
                    <li>Use Quick Notes (bottom right) for general observations</li>
                    <li>Export your results when done</li>
                </ol>
            </div>
        </div>
    </div>
    
    <div class="quick-notes">
        <h3>üìù Quick Notes</h3>
        <input type="text" class="quick-note-input" id="quick-note-input" placeholder="Quick observation...">
        <button class="quick-note-btn" onclick="addQuickNote()">Add Note</button>
        <div class="notes-list" id="quick-notes-list"></div>
        <button class="export-btn" onclick="exportResults()">üìä Export Test Report</button>
    </div>

    <script>
        // Parse the COMPLETE_UI_TESTING_GUIDE.md structure
        const testData = {
            sections: [
                {
                    title: "Authentication & Account Management",
                    tests: [
                        {
                            id: "1.1",
                            title: "Google SSO Signup (New User)",
                            steps: [
                                "Open browser in Incognito/Private mode",
                                "Navigate to production URL",
                                "Click 'Sign Up' button",
                                "Verify redirect to signup page",
                                "Click 'Sign in with Google' button",
                                "Select Google account",
                                "Grant permissions"
                            ],
                            expectedResults: [
                                "Redirected to homepage",
                                "Shows Google avatar/photo",
                                "Shows '0 / 1 resumes'",
                                "Dropdown shows email address",
                                "No error messages"
                            ]
                        },
                        {
                            id: "1.2",
                            title: "Email/Password Signup (New User)",
                            steps: [
                                "Open new Incognito window",
                                "Navigate to signup page",
                                "Click 'Sign up with Email'",
                                "Fill out form with new email",
                                "Click 'Sign Up'",
                                "Check email for verification",
                                "Click verification link"
                            ],
                            expectedResults: [
                                "Account created successfully",
                                "Redirected appropriately",
                                "Verification email received",
                                "Can log in after verification"
                            ]
                        },
                        {
                            id: "1.3",
                            title: "Login with Existing Account",
                            steps: [
                                "Navigate to login page",
                                "Enter credentials",
                                "Click 'Login'",
                                "Verify successful login"
                            ],
                            expectedResults: [
                                "Successfully logged in",
                                "Shows user profile",
                                "Resume count displayed"
                            ]
                        },
                        {
                            id: "1.4",
                            title: "Logout Functionality",
                            steps: [
                                "Click profile dropdown",
                                "Click 'Logout'",
                                "Verify logged out"
                            ],
                            expectedResults: [
                                "Redirected to login page",
                                "Session cleared",
                                "Cannot access protected routes"
                            ]
                        }
                    ]
                },
                {
                    title: "Resume Generation - WITHOUT Upload",
                    tests: [
                        {
                            id: "2.1",
                            title: "Start Resume Generation",
                            steps: [
                                "Click 'Generate Resume' button",
                                "Select 'Start from scratch'",
                                "Enter job title/description",
                                "Proceed to questions"
                            ],
                            expectedResults: [
                                "Question flow starts",
                                "Questions are relevant",
                                "Can navigate back/forward"
                            ]
                        },
                        {
                            id: "2.2",
                            title: "Complete Question Flow",
                            steps: [
                                "Answer all prompted questions",
                                "Provide work experience details",
                                "Add education information",
                                "Complete skills section"
                            ],
                            expectedResults: [
                                "All inputs accepted",
                                "Progress indicator works",
                                "Can edit previous answers"
                            ]
                        },
                        {
                            id: "2.3",
                            title: "Generate and Preview Resume",
                            steps: [
                                "Click 'Generate Resume'",
                                "Wait for generation",
                                "Preview generated resume",
                                "Check formatting"
                            ],
                            expectedResults: [
                                "Resume generated successfully",
                                "Content matches inputs",
                                "Formatting looks professional",
                                "No missing sections"
                            ]
                        }
                    ]
                },
                {
                    title: "Resume Generation - WITH Upload",
                    tests: [
                        {
                            id: "3.1",
                            title: "Upload Existing Resume",
                            steps: [
                                "Click 'Upload Resume'",
                                "Select PDF/DOCX file",
                                "Verify upload success",
                                "Check parsed content"
                            ],
                            expectedResults: [
                                "File uploads successfully",
                                "Content extracted correctly",
                                "Shows preview of extracted data"
                            ]
                        },
                        {
                            id: "3.2",
                            title: "Tailor Uploaded Resume",
                            steps: [
                                "Paste job description",
                                "Click 'Tailor Resume'",
                                "Wait for AI processing",
                                "Review suggestions"
                            ],
                            expectedResults: [
                                "AI analyzes resume",
                                "Provides tailored suggestions",
                                "Can accept/reject changes",
                                "Updated resume generated"
                            ]
                        }
                    ]
                },
                {
                    title: "Resume History & Management",
                    tests: [
                        {
                            id: "4.1",
                            title: "View Resume History",
                            steps: [
                                "Navigate to 'My Resumes'",
                                "View list of resumes",
                                "Check resume details"
                            ],
                            expectedResults: [
                                "All resumes displayed",
                                "Shows creation dates",
                                "Displays job titles",
                                "Thumbnail previews work"
                            ]
                        },
                        {
                            id: "4.2",
                            title: "Edit Existing Resume",
                            steps: [
                                "Click 'Edit' on a resume",
                                "Make changes",
                                "Save changes",
                                "Verify updates"
                            ],
                            expectedResults: [
                                "Resume loads for editing",
                                "Changes save successfully",
                                "Updated version displayed"
                            ]
                        },
                        {
                            id: "4.3",
                            title: "Delete Resume",
                            steps: [
                                "Click 'Delete' on a resume",
                                "Confirm deletion",
                                "Verify removal"
                            ],
                            expectedResults: [
                                "Confirmation dialog appears",
                                "Resume deleted successfully",
                                "Removed from list"
                            ]
                        }
                    ]
                },
                {
                    title: "Profile Management",
                    tests: [
                        {
                            id: "5.1",
                            title: "View Profile",
                            steps: [
                                "Click profile dropdown",
                                "Select 'Profile'",
                                "View profile information"
                            ],
                            expectedResults: [
                                "Profile page loads",
                                "Shows correct user info",
                                "Displays subscription status"
                            ]
                        },
                        {
                            id: "5.2",
                            title: "Update Profile Information",
                            steps: [
                                "Click 'Edit Profile'",
                                "Update fields",
                                "Save changes",
                                "Verify updates"
                            ],
                            expectedResults: [
                                "Can edit all fields",
                                "Changes save successfully",
                                "Updated info displayed"
                            ]
                        }
                    ]
                },
                {
                    title: "Downloads & Export",
                    tests: [
                        {
                            id: "6.1",
                            title: "Download Resume as PDF",
                            steps: [
                                "Open resume",
                                "Click 'Download PDF'",
                                "Wait for download",
                                "Open downloaded file"
                            ],
                            expectedResults: [
                                "PDF downloads successfully",
                                "Formatting preserved",
                                "All content included",
                                "File opens correctly"
                            ]
                        },
                        {
                            id: "6.2",
                            title: "Download Resume as DOCX",
                            steps: [
                                "Open resume",
                                "Click 'Download DOCX'",
                                "Wait for download",
                                "Open in Word"
                            ],
                            expectedResults: [
                                "DOCX downloads successfully",
                                "Editable in Word",
                                "Formatting maintained"
                            ]
                        }
                    ]
                }
            ]
        };

        let testResults = {};
        let quickNotes = [];
        let currentSection = null;

        function initializeApp() {
            renderSidebar();
            updateStats();
        }

        function renderSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.innerHTML = '';
            
            testData.sections.forEach((section, index) => {
                const completed = section.tests.filter(t => testResults[t.id]?.status === 'pass').length;
                const total = section.tests.length;
                
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'section';
                sectionDiv.innerHTML = `
                    <div class="section-header" onclick="selectSection(${index})">
                        <span>${section.title}</span>
                        <span class="section-badge">${completed}/${total}</span>
                    </div>
                `;
                sidebar.appendChild(sectionDiv);
            });
        }

        function selectSection(index) {
            currentSection = index;
            const section = testData.sections[index];
            
            // Update active state
            document.querySelectorAll('.section-header').forEach((el, i) => {
                el.classList.toggle('active', i === index);
            });
            
            renderTests(section);
        }

        function renderTests(section) {
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = `<h2>${section.title}</h2>`;
            
            section.tests.forEach(test => {
                const result = testResults[test.id] || { steps: [], status: null, notes: '' };
                const testDiv = document.createElement('div');
                testDiv.className = `test-item ${result.status || ''}`;
                testDiv.id = `test-${test.id}`;
                
                let stepsHTML = test.steps.map((step, i) => `
                    <div class="step">
                        <input type="checkbox" class="step-checkbox" 
                               onchange="toggleStep('${test.id}', ${i})"
                               ${result.steps[i] ? 'checked' : ''}>
                        <span>${step}</span>
                    </div>
                `).join('');
                
                let expectedHTML = '<br><strong>Expected Results:</strong><ul style="margin-left: 20px;">';
                expectedHTML += test.expectedResults.map(r => `<li>${r}</li>`).join('');
                expectedHTML += '</ul>';
                
                testDiv.innerHTML = `
                    <div class="test-header">
                        <span class="test-title">Test ${test.id}: ${test.title}</span>
                        <div class="status-buttons">
                            <button class="status-btn pass-btn" onclick="setTestStatus('${test.id}', 'pass')">‚úì Pass</button>
                            <button class="status-btn fail-btn" onclick="setTestStatus('${test.id}', 'fail')">‚úó Fail</button>
                            <button class="status-btn skip-btn" onclick="setTestStatus('${test.id}', 'skip')">‚äò Skip</button>
                        </div>
                    </div>
                    <div class="test-steps">
                        ${stepsHTML}
                        ${expectedHTML}
                    </div>
                    <div class="notes-section">
                        <textarea class="notes-input" placeholder="Add notes about this test..."
                                  onchange="saveNotes('${test.id}', this.value)">${result.notes || ''}</textarea>
                    </div>
                `;
                
                mainContent.appendChild(testDiv);
            });
        }

        function toggleStep(testId, stepIndex) {
            if (!testResults[testId]) {
                testResults[testId] = { steps: [], status: null, notes: '' };
            }
            testResults[testId].steps[stepIndex] = !testResults[testId].steps[stepIndex];
            saveToLocalStorage();
        }

        function setTestStatus(testId, status) {
            if (!testResults[testId]) {
                testResults[testId] = { steps: [], status: null, notes: '' };
            }
            testResults[testId].status = status;
            
            const testElement = document.getElementById(`test-${testId}`);
            testElement.className = `test-item ${status}`;
            
            updateStats();
            renderSidebar();
            saveToLocalStorage();
        }

        function saveNotes(testId, notes) {
            if (!testResults[testId]) {
                testResults[testId] = { steps: [], status: null, notes: '' };
            }
            testResults[testId].notes = notes;
            saveToLocalStorage();
        }

        function addQuickNote() {
            const input = document.getElementById('quick-note-input');
            const note = input.value.trim();
            
            if (note) {
                quickNotes.push({
                    text: note,
                    timestamp: new Date().toLocaleString()
                });
                
                input.value = '';
                renderQuickNotes();
                saveToLocalStorage();
            }
        }

        function renderQuickNotes() {
            const list = document.getElementById('quick-notes-list');
            list.innerHTML = quickNotes.map(note => `
                <div class="note-item">
                    ${note.text}
                    <span class="note-time">${note.timestamp}</span>
                </div>
            `).join('');
        }

        function updateStats() {
            const totalTests = testData.sections.reduce((sum, s) => sum + s.tests.length, 0);
            const completedTests = Object.values(testResults).filter(r => r.status === 'pass').length;
            const progress = totalTests > 0 ? Math.round((completedTests / totalTests) * 100) : 0;
            
            document.getElementById('completed-count').textContent = completedTests;
            document.getElementById('total-count').textContent = totalTests;
            document.getElementById('progress-percent').textContent = progress + '%';
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        function saveToLocalStorage() {
            localStorage.setItem('cvstomize-test-results', JSON.stringify(testResults));
            localStorage.setItem('cvstomize-quick-notes', JSON.stringify(quickNotes));
        }

        function loadFromLocalStorage() {
            const savedResults = localStorage.getItem('cvstomize-test-results');
            const savedNotes = localStorage.getItem('cvstomize-quick-notes');
            
            if (savedResults) testResults = JSON.parse(savedResults);
            if (savedNotes) {
                quickNotes = JSON.parse(savedNotes);
                renderQuickNotes();
            }
        }

        function exportResults() {
            const totalTests = testData.sections.reduce((sum, s) => sum + s.tests.length, 0);
            const passedTests = Object.values(testResults).filter(r => r.status === 'pass').length;
            const failedTests = Object.values(testResults).filter(r => r.status === 'fail').length;
            const skippedTests = Object.values(testResults).filter(r => r.status === 'skip').length;
            
            let report = `# CVstomize Test Report\n\n`;
            report += `**Date:** ${new Date().toLocaleString()}\n`;
            report += `**Tester:** [Your Name]\n\n`;
            report += `## Summary\n\n`;
            report += `- **Total Tests:** ${totalTests}\n`;
            report += `- **Passed:** ${passedTests} (${Math.round(passedTests/totalTests*100)}%)\n`;
            report += `- **Failed:** ${failedTests}\n`;
            report += `- **Skipped:** ${skippedTests}\n`;
            report += `- **Not Started:** ${totalTests - passedTests - failedTests - skippedTests}\n\n`;
            
            testData.sections.forEach(section => {
                report += `## ${section.title}\n\n`;
                
                section.tests.forEach(test => {
                    const result = testResults[test.id];
                    const status = result?.status || 'not-started';
                    const emoji = status === 'pass' ? '‚úÖ' : status === 'fail' ? '‚ùå' : status === 'skip' ? '‚äò' : '‚è≥';
                    
                    report += `### ${emoji} Test ${test.id}: ${test.title}\n\n`;
                    report += `**Status:** ${status.toUpperCase()}\n\n`;
                    
                    if (result?.notes) {
                        report += `**Notes:**\n${result.notes}\n\n`;
                    }
                });
            });
            
            if (quickNotes.length > 0) {
                report += `## Quick Notes\n\n`;
                quickNotes.forEach(note => {
                    report += `- **${note.timestamp}:** ${note.text}\n`;
                });
            }
            
            // Download as file
            const blob = new Blob([report], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `cvstomize-test-report-${new Date().toISOString().split('T')[0]}.md`;
            a.click();
        }

        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            loadFromLocalStorage();
            initializeApp();
        });

        // Handle Enter key for quick notes
        document.addEventListener('DOMContentLoaded', () => {
            const input = document.getElementById('quick-note-input');
            if (input) {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        addQuickNote();
                    }
                });
            }
        });
    </script>
</body>
</html>
